---
// src/layouts/ServiceLayout.astro
import BaseLayout from './BaseLayout.astro';

export interface Props {
  title: string;
  description: string;
  price: string;
  duration: string;
  location?: string;
  keywords?: string;
}

const { title, description, price, duration, location = 'Centerville, TN', keywords } = Astro.props as Props;

// Create Service schema for better local search visibility
const serviceSchema = {
  "@context": "https://schema.org",
  "@type": "Service",
  "name": title,
  "description": description,
  "provider": {
    "@type": "LocalBusiness",
    "name": "Made @ The Local Pottery and Candle Studio",
    "address": {
      "@type": "PostalAddress",
      "streetAddress": "111 South Public Square, Upstairs",
      "addressLocality": "Centerville",
      "addressRegion": "TN",
      "postalCode": "37033",
      "addressCountry": "US"
    },
    "telephone": "(931) 729-8459",
    "email": "made@thelocalplacetn.com"
  },
  "areaServed": {
    "@type": "City",
    "name": "Centerville"
  },
  "availableLanguage": "en",
  "serviceType": "Art Class"
};

// Create BreadcrumbList schema for breadcrumb navigation
const category = Astro.url.pathname.split('/')[1] || 'services';
const breadcrumbSchema = {
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://www.thelocalplace.com"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": category.charAt(0).toUpperCase() + category.slice(1),
      "item": `https://www.thelocalplace.com/${category}`
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": title,
      "item": Astro.url.toString()
    }
  ]
};
---

<BaseLayout
  title={title}
  description={description}
  keywords={keywords || `${title}, pottery, candle, ${location}`}
>
  <!-- Service Schema Markup for Local Search -->
  <script type="application/ld+json" set:html={JSON.stringify(serviceSchema)} />

  <!-- BreadcrumbList Schema for Rich Snippets -->
  <script type="application/ld+json" set:html={JSON.stringify(breadcrumbSchema)} />
  <article class="service-page">
    <div class="container">
      <nav class="breadcrumb" aria-label="Breadcrumb">
        <ol>
          <li><a href="/">Home</a></li>
          <li>
            <a href={`/${title.toLowerCase().replace(/\s+/g, '-')}`}>
              Services
            </a>
          </li>
          <li><span>{title}</span></li>
        </ol>
      </nav>

      <div class="service-header">
        <p class="subtitle">Worth the Drive from Nashville & Beyond</p>
      </div>

      <div class="service-content">
        <section class="service-overview">
          <slot name="overview" />
        </section>

        <aside class="service-sidebar">
          <div class="service-details">
            <h3>Service Details</h3>
            <dl>
              <div class="detail-item">
                <dt>Price</dt>
                <dd>{price}</dd>
              </div>
              <div class="detail-item">
                <dt>Duration</dt>
                <dd>{duration}</dd>
              </div>
              <div class="detail-item">
                <dt>Location</dt>
                <dd>
                  111 South Public Square, Upstairs<br />
                  Centerville, TN 37033
                </dd>
              </div>
            </dl>
            <button class="cta-button" onclick="window.location.href='#contact'">
              Book Now
            </button>
          </div>

          <div class="business-card">
            <h3>Made @ The Local Pottery and Candle Studio</h3>
            <p><strong>Pottery and Candle Studio</strong></p>
            <p>üìç 111 South Public Square, Upstairs<br />Centerville, TN 37033</p>
            <p>üìû (931) 729-8459<br />üìß made@thelocalplacetn.com</p>
          </div>
        </aside>
      </div>

      <section class="why-choose-us-section">
        <h2>Why Choose Made @ The Local Pottery and Candle Studio</h2>
        <div class="why-grid">
          <div class="why-item">
            <h3>üé® Owner-Led by Concetta</h3>
            <p>Personally guided by our founder to ensure every visitor has a welcoming, authentic creative experience.</p>
          </div>
          <div class="why-item">
            <h3>üë• All Ages & Skill Levels</h3>
            <p>Whether you're 5 or 95, complete beginner or experienced artist, we have something perfect for you.</p>
          </div>
          <div class="why-item">
            <h3>‚òï Integrated Cafe Experience</h3>
            <p>Enjoy specialty coffee, homemade ice cream, and fresh cafe food while you create.</p>
          </div>
          <div class="why-item">
            <h3>üéØ Judgment-Free Zone</h3>
            <p>Create at your own pace. There are no mistakes, only happy accidents and learning moments.</p>
          </div>
        </div>
      </section>

      <section class="service-testimonials">
        <h2>What Visitors Say</h2>
        <slot name="testimonials" />
      </section>

      <section class="related-services">
        <h2>Explore More Services</h2>
        <slot name="related" />
      </section>
    </div>
  </article>
</BaseLayout>

<style>
  .service-page {
    padding: 2rem 0;
  }

  .breadcrumb {
    margin-bottom: 2rem;
  }

  .breadcrumb ol {
    display: flex;
    gap: 0.5rem;
    list-style: none;
    flex-wrap: wrap;
  }

  .breadcrumb li::after {
    content: ' / ';
    margin: 0 0.5rem;
    color: #ccc;
  }

  .breadcrumb li:last-child::after {
    content: '';
  }

  .breadcrumb a {
    color: var(--brown);
    text-decoration: underline;
  }

  .breadcrumb span {
    color: var(--text-light);
  }

  .service-header {
    margin-bottom: 3rem;
    border-bottom: 2px solid var(--light-gray);
    padding-bottom: 2rem;
  }

  .subtitle {
    font-size: 1.1rem;
    color: var(--brown);
    font-weight: 500;
    margin-bottom: 0.5rem;
  }

  .service-content {
    display: grid;
    grid-template-columns: 1fr 350px;
    gap: 3rem;
    margin-bottom: 3rem;
  }

  @media (max-width: 768px) {
    .service-content {
      grid-template-columns: 1fr;
      gap: 2rem;
    }
  }

  .service-overview {
    line-height: 1.8;
  }

  .service-sidebar {
    display: flex;
    flex-direction: column;
    gap: 2rem;
  }

  .service-details {
    background: var(--light-gray);
    padding: 1.5rem;
    border-radius: 8px;
  }

  .service-details h3 {
    margin-top: 0;
    color: var(--dark);
  }

  .detail-item {
    margin-bottom: 1.5rem;
  }

  .detail-item:last-child {
    margin-bottom: 1rem;
  }

  .detail-item dt {
    font-weight: 600;
    color: var(--dark);
    margin-bottom: 0.25rem;
  }

  .detail-item dd {
    color: var(--text-light);
    margin: 0;
  }

  .service-details .cta-button {
    width: 100%;
    margin-top: 1rem;
    padding: 0.75rem 1rem;
  }

  .business-card {
    background: var(--cream);
    padding: 1.5rem;
    border-radius: 8px;
    border-left: 4px solid var(--brown);
  }

  .business-card h3 {
    margin-top: 0;
    color: var(--dark);
  }

  .business-card p {
    margin-bottom: 0.5rem;
    font-size: 0.9rem;
  }

  .why-choose-us-section {
    margin-bottom: 3rem;
  }

  .why-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 2rem;
  }

  .why-item {
    padding: 1.5rem;
    background: var(--light-gray);
    border-radius: 8px;
  }

  .why-item h3 {
    margin-top: 0;
    margin-bottom: 1rem;
  }

  .service-testimonials {
    margin-bottom: 3rem;
  }

  .related-services {
    margin-bottom: 3rem;
  }
</style>
